# CSS & JavaScript 태그 위치

일반적으로 CSS `<link>` 태그는 `<head></head>` 태그 사이에 위치

JavaScript `<script>` 태그는 `<body>` 태그가 끝나기 전에 위치시킨다.

그 이유는 **최적화된 웹사이트를 구현**하기 위해서다.

## CSS

브라우저 렌더링과 관련이 깊다. 페이지가 처음 load되면 HTML, CSS파일이 동시에 파싱된다. 각각 DOM, CSSOM을 만들어 렌더트리를 형성하는데 만일 CSS를 불러오는 태그가 마지막에 있다면 이 과정이 느려지고 사용자가 화면을 볼 수 있는 시간이 길어질 것이다.

## JavaScript

`script` 태그는 다운로드되고 실행되는 동안 HTML 파싱을 막는다. 이를 방지하기 위해 `body` 태그 직전에 위치시킨다.

이 외에도 두 가지 방법이 존재한다. 둘 다 `src`속성이 존재해얗하고, `head`태그에 선언되어도 `body` 태그 마지막에 선언된 것처럼 사용할 수 있다.

</br>

**`<script async>`**

이 스크립트를 만나면 외부 스크립트 다운로드를 시작한다. 다운로드 중에는 HTML 파싱을 막지 않지만 **다운로드가 완료되면 즉시 실행하고 실행되는 동안 브라우저는 HTML 파싱을 멈춘다.** 그렇기 때문에 DOM을 건드리지 않고, 의존성이 없는 코드만 포함하는 것이 좋다.

</br>

**`<script defer>`**
이 스크립트는 HTML 파싱과 병렬적으로 가져오지만, **페이지 파싱이 끝나면 즉, </head>태그를 만나면 실행된다.** 즉, HTML이 완전히 파싱되도록 할 때 유용하다.
이때 DOMContentLoaded 이벤트 이전에 실행이 된다. defer가 여러개인 경우 순차적으로 스크립트를 실행한다.
